import{g as i,u as y,p as S}from"./product-D7C3p_zt.js";const f=(c,e)=>{let o=i().find(n=>n.id==c),a=1;return o&&(a=o.quantity,e=o.price),{quantity:a,price:e}},P=c=>{let e=i();e=e.filter(o=>o.id!==c),localStorage.setItem("cartProductLS",JSON.stringify(e));let r=document.getElementById(`card${c}`);r&&r.remove(),y(e)},q=(c,e,r,o)=>{let a=document.querySelector(`#card${e}`),n=a.querySelector(".productQuantity"),l=a.querySelector(".productPrice"),t=1,u=0,d=i(),m=d.find(s=>{s.id==e});m?(t=m.quantity,u=m.price):(u=o,o=o),c.target.className=="cartIncrement"&&(t<r?t+=1:t==r&&(t=r,u=o*r)),c.target.className=="cartDecrement"&&t>1&&(t-=1),u=o*t,u=Number(u.toFixed(2));let p={id:e,quantity:t,LocalStoragePrice:u};p=d.map(s=>s.id==e?p:s),localStorage.setItem("cartProductLS",JSON.stringify(p)),n.innerText=t,l.innerText=u},g=()=>{let c=document.querySelector(".productSubTotal"),e=document.querySelector(".productFinalTotal"),a=i().reduce((n,l)=>{let t=parseInt(l.price)||0;return n+t},0);console.log(a),c.textContent=`Rs ${a}`,e.textContent=`Rs ${a}50`};let C=i(),x=S.filter(c=>C.some(e=>e.id==c.id));const v=document.querySelector("#productCartContainer"),L=document.querySelector("#productCartTemplate"),N=()=>{x.forEach(c=>{const{category:e,id:r,image:o,name:a,stock:n,price:l}=c;let t=document.importNode(L.content,!0);const u=f(r,l);t.querySelector("#cardValue").setAttribute("id",`card${r}`),t.querySelector(".category").textContent=e,t.querySelector(".productName").textContent=a,t.querySelector(".productPrice").textContent=u.price,t.querySelector(".productQuantity").textContent=u.quantity,t.querySelector(".productImage").src=o,t.querySelector(".remove-to-cart-button").addEventListener("click",d=>{P(r)}),t.querySelector(".stockElement").addEventListener("click",d=>{q(d,r,n,l)}),v.append(t)})};N();g();
