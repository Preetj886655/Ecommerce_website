import{g as i,s as P,u as S,p as q}from"./product-Z3ECzIq6.js";const g=(r,e)=>{let c=i().find(n=>n.id==r),a=1;return c&&(a=c.quantity,e=c.price),{quantity:a,price:e}},y=()=>{let r=document.querySelector(".productSubTotal"),e=document.querySelector(".productFinalTotal"),a=i().reduce((n,l)=>{let t=parseInt(l.price)||0;return n+t},0);console.log(a),r.textContent=`Rs ${a}`,e.textContent=`Rs ${a+50}`},C=r=>{let e=i();e=e.filter(c=>c.id!=r),localStorage.setItem("cartProductLS",JSON.stringify(e));let o=document.getElementById(`card${r}`);o&&(o.remove(),P("delete",r)),y(),S(e)},x=(r,e,o,c)=>{let a=document.querySelector(`#card${e}`),n=a.querySelector(".productQuantity"),l=a.querySelector(".productPrice"),t=1,u=0,d=i(),m=d.find(s=>s.id===e);m?(t=m.quantity,u=m.price):(u=c,c=c),r.target.className==="cartIncrement"&&(t<o?t+=1:t===o&&(t=o,u=c*o)),r.target.className==="cartDecrement"&&t>1&&(t-=1),u=c*t,u=Number(u.toFixed(2));let p={id:e,quantity:t,price:u};p=d.map(s=>s.id===e?p:s),localStorage.setItem("cartProductLS",JSON.stringify(p)),n.innerText=t,l.innerText=`₹${u}`,y(),S()};let v=i(),f=q.filter(r=>v.some(e=>e.id==r.id));console.log(f);const L=document.querySelector("#productCartContainer"),N=document.querySelector("#productCartTemplate"),T=()=>{f.forEach(r=>{const{category:e,id:o,image:c,name:a,stock:n,price:l}=r;let t=document.importNode(N.content,!0);const u=g(o,l);t.querySelector("#cardValue").setAttribute("id",`card${o}`),t.querySelector(".category").textContent=e,t.querySelector(".productName").textContent=a,t.querySelector(".productPrice").textContent=`₹${u.price}`,t.querySelector(".productQuantity").textContent=u.quantity,t.querySelector(".productImage").src=c,t.querySelector(".stockElement").addEventListener("click",d=>{x(d,o,n,l)}),t.querySelector(".remove-to-cart-button").addEventListener("click",d=>{C(o)}),L.append(t)})};T();y();
